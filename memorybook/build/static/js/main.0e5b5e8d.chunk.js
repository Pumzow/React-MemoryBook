(this.webpackJsonpmemorybook=this.webpackJsonpmemorybook||[]).push([[0],{45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){},51:function(e,t,r){},52:function(e,t,r){},53:function(e,t,r){},54:function(e,t,r){},55:function(e,t,r){},56:function(e,t,r){},57:function(e,t,r){},58:function(e,t,r){"use strict";r.r(t);var a=r(7),s=r.n(a),c=r(36),n=r.n(c),o=r(13),i=r(11),j=r(12),b=r(23),l=Object(a.createContext)(),u=r(1),d=function(){var e=Object(j.f)(),t=Object(a.useContext)(l).user;return Object(u.jsxs)("header",{className:"NavBar",children:[Object(u.jsxs)("h1",{className:"NavBar-Logo",children:[" ",Object(u.jsx)(o.c,{className:"NavBar-Menu-Button",to:"/",children:" MemoryBook "})]}),Object(u.jsx)("nav",{className:"NavBar-Menu",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsxs)("h3",{children:[" ",Object(u.jsx)(o.c,{className:"NavBar-Menu-Button",to:"/Home",children:"  Home  "})]})}),null!=t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)("h2",{children:Object(u.jsx)(o.c,{className:"NavBar-Menu-Button",to:"/Memories",children:"  Memories  "})})}),Object(u.jsx)("li",{children:Object(u.jsx)("h3",{children:Object(u.jsx)(o.c,{className:"NavBar-Menu-Button",to:"/Share",children:"  Share  "})})})]}):Object(u.jsx)(u.Fragment,{})]})}),Object(u.jsx)("ul",{className:"NavBar-Account",children:null!=t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsxs)(o.c,{className:"NavBar-Menu-Button",to:"/Profile/".concat(t.uid),children:[" ",t.displayName," "]})}),Object(u.jsx)("li",{children:Object(u.jsx)("p",{className:"NavBar-Menu-Button SignOut",onClick:function(){console.log("Sign out!"),Object(b.b)().signOut(),e("/")},children:" Sign out "})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)(o.c,{className:"NavBar-Menu-Button",to:"/Login",children:" Login "})}),Object(u.jsx)("li",{children:Object(u.jsx)(o.c,{className:"NavBar-Menu-Button",to:"/Register",children:" Register "})})]})})]})},m=r(0),O=r.n(m),h=r(2),x=function(){var e=Object(j.f)();null!==Object(a.useContext)(l).user&&e("/Memories");var t=Object(a.useState)(!1),r=Object(i.a)(t,2),s=r[0],c=r[1],n=function(){var e=Object(h.a)(O.a.mark((function e(t){var r,a,s,n,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=new FormData(t.currentTarget),a=Object.fromEntries(r),s=a.email,n=a.password,o=Object(b.b)(),Object(b.c)(o,s,n).then((function(e){e.user})).catch((function(e){var t=e.code;e.message;console.log(t),"auth/invalid-email"!==t&&"auth/wrong-password"!==t||c(!0)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"Login",children:[Object(u.jsx)("h1",{children:" Login User "}),Object(u.jsx)("form",{id:"Login-Form",onSubmit:n,children:Object(u.jsxs)("div",{className:"container",children:[s?Object(u.jsx)("p",{className:"InvalidField",children:" Invalid Credentials"}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("label",{htmlFor:"leg-title",children:" E-mail "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Login-Form-Email",type:"text",name:"email",placeholder:"Enter e-mail..."}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"category",children:" Password "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Login-Form-Password",type:"password",name:"password",placeholder:"Enter password..."}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"btn submit",type:"submit",value:"Login"})]})})]})},p=r(37),f=r(29),g=Object(p.a)({apiKey:"AIzaSyCKfMm1TJpcW4bhkgub_bg1fUVUHJ9cZ3k",authDomain:"react-memorybook.firebaseapp.com",projectId:"react-memorybook",storageBucket:"react-memorybook.appspot.com",messagingSenderId:"503934981765",appId:"1:503934981765:web:1801585bab2c194c7efbec",measurementId:"G-HFG0NEFBKB"}),y=Object(f.g)(g),v=r(14),w=function(e){e.preventDefault();var t=document.querySelector("#UserPreviewImage"),r=document.querySelector("#Register-Form-ImageURL");fetch(r.value,{method:"HEAD"}).then((function(e){e.ok?(console.log("Image exists."),t.src=r.value):(console.log("Image does not exist."),t.src="https://i0.wp.com/www.artstation.com/assets/default_avatar.jpg?ssl=1")})).catch((function(e){t.src="https://i0.wp.com/www.artstation.com/assets/default_avatar.jpg?ssl=1"}))},I=function(){var e=Object(j.f)();null!==Object(a.useContext)(l).user&&e("/Memories");var t=Object(a.useState)(!1),r=Object(i.a)(t,2),s=r[0],c=r[1],n=Object(a.useState)(!1),o=Object(i.a)(n,2),d=o[0],m=o[1],x=Object(a.useState)(!1),p=Object(i.a)(x,2),f=p[0],g=p[1],I=Object(a.useState)(!1),S=Object(i.a)(I,2),N=S[0],k=S[1],D=Object(a.useState)(!1),F=Object(i.a)(D,2),M=F[0],E=F[1],L=function(){var e=Object(h.a)(O.a.mark((function e(t){var r,a,s,n,o,i,j,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c(!1),m(!1),g(!1),k(!1),E(!1),r=new FormData(t.currentTarget),a=Object.fromEntries(r),s=a.email,n=a.name,o=a.password,i=a.repeatPassword,j=a.imageUrl,!(n.length<=3||n.length>18)){e.next=12;break}return console.log("here"),m(!0),e.abrupt("return");case 12:if(o===i){e.next=15;break}return k(!0),e.abrupt("return");case 15:if(null!=j&&""!==j&&"https://i0.wp.com/www.artstation.com/assets/default_avatar.jpg?ssl=1"!==document.querySelector("#UserPreviewImage").src){e.next=18;break}return E(!0),e.abrupt("return");case 18:l=Object(b.b)(),Object(b.a)(l,s,o).then((function(e){var t=e.user;Object(b.d)(t,{displayName:n,photoURL:j}),P(t.uid,n,j)})).catch((function(e){var t=e.code;console.log(t),"auth/invalid-email"!==t&&"auth/email-already-in-use"!==t||c(!0),("auth/weak-password"===t||"auth/internal-error"===t||o.length>32)&&g(!0)}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var t=Object(h.a)(O.a.mark((function t(r,a,s){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(v.d)(y,"Users",r),t.next=3,Object(v.g)(c,{DisplayName:a,PhotoURL:s,Uid:r}).then((function(){e("/Memories")})).catch((function(e){alert("Unsuccessful operation, error: "+e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"Register",children:[Object(u.jsx)("h1",{children:" Register User "}),Object(u.jsxs)("form",{id:"Register-Form",onSubmit:L,children:[Object(u.jsxs)("div",{className:"container",children:[s?Object(u.jsx)("p",{className:"InvalidField",children:" Wrong E-mail or it's already in use"}):Object(u.jsx)(u.Fragment,{}),d?Object(u.jsx)("p",{className:"InvalidField",children:" Username must be 6 - 18 characters long"}):Object(u.jsx)(u.Fragment,{}),f?Object(u.jsx)("p",{className:"InvalidField",children:" Password must be 6 - 32 characters long"}):Object(u.jsx)(u.Fragment,{}),N?Object(u.jsx)("p",{className:"InvalidField",children:" Both passwords must match"}):Object(u.jsx)(u.Fragment,{}),M?Object(u.jsx)("p",{className:"InvalidField",children:" Invalid image URL"}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("label",{htmlFor:"leg-title",children:" E-mail "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Register-Form-Email",type:"text",name:"email",placeholder:"Enter e-mail..."}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"category",children:" Name "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Register-Form-Username",type:"text",name:"name",placeholder:"Enter name..."}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"category",children:" Password "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Register-Form-Password",type:"password",name:"password",placeholder:"Enter password..."}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"category",children:" Repeat Password "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Register-Form-Repeat-Password",type:"password",name:"repeatPassword",placeholder:"Repeat password..."}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"game-img",children:"Image URL "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Register-Form-ImageURL",type:"text",name:"imageUrl",placeholder:"Upload a photo...",onChange:w}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"btn submit",type:"submit",value:"Register"})]}),Object(u.jsx)("div",{id:"UserPreviewImage-parent",children:Object(u.jsx)("img",{id:"UserPreviewImage",src:"https://i0.wp.com/www.artstation.com/assets/default_avatar.jpg?ssl=1",alt:""})})]})]})},S=r(24),N=r(34),k=function(e){var t=e.memory,r=t.Title,a=t.Date,s=t.ImageURL;return Object(u.jsx)(o.b,{to:"/memory/".concat(t.id),children:Object(u.jsxs)("div",{className:"Home-Items-List-Item",children:[Object(u.jsxs)("h3",{className:"Home-Items-List-Item-Title",children:[" ",r," "]}),Object(u.jsxs)("h3",{className:"Home-Items-List-Item-Date",children:[" ",a," "]}),Object(u.jsx)("img",{src:s,alt:""})]})})},D=function(){var e=Object(a.useContext)(l).user;return Object(u.jsxs)("section",{className:"Home-Welcome",children:[Object(u.jsx)("h1",{children:" Welcome to MemoryBook "}),null!==e?Object(u.jsxs)("p",{children:[" Here you can share your memories. ",Object(u.jsx)(o.c,{to:"/Share",children:Object(u.jsx)("u",{children:"Start sharing now."})})]}):Object(u.jsxs)("p",{children:[" ",Object(u.jsx)(o.c,{to:"/Register",children:Object(u.jsx)("u",{children:"Register"})})," or ",Object(u.jsx)(o.c,{to:"/Login",children:Object(u.jsx)("u",{children:"Login"})})," to start sharing your memories with everyone."]})]})},F=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),r=t[0],s=t[1],c=Object(v.b)(y,"Memories");Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.f)(c);case 2:t=e.sent,s(t.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})})).sort(M).slice(0,3));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var n=Object(a.useState)(0),o=Object(i.a)(n,2),j=o[0],b=o[1],l=r.length;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(D,{}),Object(u.jsxs)("section",{className:"Home",children:[Object(u.jsx)("h1",{children:" Most Liked Memories "}),l>0?Object(u.jsxs)("article",{className:"Home-Slider",children:[Object(u.jsx)(N.a,{className:"Home-Item-Previous",onClick:function(){b(0===j?l-1:j-1)}}),r.map((function(e,t){return Object(u.jsx)("div",{className:t===j?"slide active":"slide",children:t===j&&Object(u.jsx)(k,{memory:e},e.id)},t)})),Object(u.jsx)(N.b,{className:"Home-Item-Next",onClick:function(){b(j===l-1?0:j+1)}})]}):Object(u.jsx)("p",{children:" Searching for memories... "})]})]})},M=function(e,t){return t.Likes.length-e.Likes.length},E=function(e){var t=e.memory,r=t.Title,a=t.Date,s=t.ImageURL;return Object(u.jsx)(o.b,{to:"/memory/".concat(t.id),children:Object(u.jsxs)("div",{className:"Memories-Items-List-Item",children:[Object(u.jsxs)("h3",{className:"Memories-Items-List-Item-Title",children:[" ",r," "]}),Object(u.jsxs)("h3",{className:"Memories-Items-List-Item-Date",children:[" ",a," "]}),Object(u.jsx)("img",{src:s,alt:""})]})})},L=function(){var e=Object(j.f)();null===Object(a.useContext)(l).user&&e("/Login");var t=Object(a.useState)([]),r=Object(i.a)(t,2),s=r[0],c=r[1],n=Object(v.b)(y,"Memories");Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.f)(n);case 2:t=e.sent,c(t.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})})).reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var o=s.length;return Object(u.jsxs)("section",{className:"Memories",children:[Object(u.jsx)("h1",{children:" Memories "}),o>0?Object(u.jsx)("article",{children:s.map((function(e){return Object(u.jsx)(E,{memory:e},e.id)}))}):Object(u.jsx)("p",{children:" Searching for memories... "})]})},P=function(e){var t=e.memory,r=e.name,a=t.Title,s=t.Date,c=t.ImageURL,n=t.Description,i=t.OwnerId;return Object(u.jsxs)("section",{className:"Memory-Details",children:[Object(u.jsxs)("article",{className:"Memory-Details-Item",children:[Object(u.jsxs)("h3",{className:"Memory-Details-Item-Title",children:[" ",a," "]}),Object(u.jsxs)("h3",{className:"Memory-Details-Item-Date",children:[" ",s," "]}),Object(u.jsx)("img",{src:c,alt:""})]}),Object(u.jsx)("article",{className:"Memory-Details-Item-Description",children:void 0!==t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.b,{className:"Link-Without-Decoration",to:"/Profile/".concat(i),children:Object(u.jsxs)("h3",{children:[" ",r," "]})}),Object(u.jsxs)("p",{children:[" ",n," "]})]}):Object(u.jsx)("p",{children:"...Loading"})})]})},T=function(){var e=Object(j.f)(),t=Object(a.useContext)(l).user,r=Object(j.g)().memoryId,s=Object(a.useState)({}),c=Object(i.a)(s,2),n=c[0],o=c[1],b=Object(a.useState)(0),d=Object(i.a)(b,2),m=d[0],x=d[1],p=Object(a.useState)("...Loading"),f=Object(i.a)(p,2),g=f[0],w=f[1];Object(a.useEffect)((function(){var t=function(){var t=Object(h.a)(O.a.mark((function t(){var a,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(v.d)(y,"Memories",r),t.next=3,Object(v.e)(a);case 3:if(void 0!==(s=t.sent).data()){t.next=9;break}return e("/Error404"),t.abrupt("return");case 9:o(s.data()),x(s.data().Likes.length),I(s.data().OwnerId);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[r]);var I=function(){var e=Object(h.a)(O.a.mark((function e(t){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.d)(y,"Users",t),e.next=3,Object(v.e)(r);case 3:a=e.sent,w(a.data().DisplayName);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(O.a.mark((function e(a){var s,c,n,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s=Object(v.d)(y,"Memories",r),e.next=4,Object(v.e)(s);case 4:return c=e.sent,(n=c.data().Likes).includes(t.uid)?-1!==(o=n.indexOf(t.uid))&&n.splice(o,1):n.push(t.uid),e.next=9,Object(v.g)(s,{Likes:n},{merge:!0}).then((function(){x(n.length)})).catch((function(e){alert("Unsuccessful operation, error: "+e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(h.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e("/memory/edit/".concat(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(h.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,Object(v.c)(Object(v.d)(y,"Memories",r));case 3:e("/Memories");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("section",{children:[Object(u.jsx)("article",{children:Object(u.jsx)(P,{memory:n,name:g},r)}),null!==t?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("article",{className:"Memory-Interactions",children:[Object(u.jsxs)("button",{onClick:S,children:[" ",void 0!==n.Likes?m:0,"  Like "]}),null!==t&&t.uid===n.OwnerId?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:N,children:" Edit "}),Object(u.jsx)("button",{onClick:k,children:" Delete "})]}):Object(u.jsx)(u.Fragment,{})]})}):Object(u.jsx)(u.Fragment,{})]})},R=function(e){e.preventDefault();var t=document.querySelector("#MemoryPreviewImage"),r=document.querySelector("#Share-Form-ImageURL");""!=r.value?fetch(r.value,{method:"HEAD"}).then((function(e){e.ok?(console.log("Image exists."),t.src=r.value):(console.log("Image does not exist."),t.src="https://merriam-webster.com/assets/mw/images/gallery/gal-home-edpick-lg/empty-speech-bubble-7508-68642ecb0f0a19313dd31c16f67e67e1@1x.jpg")})).catch((function(e){console.log("Error:",e),t.src="https://merriam-webster.com/assets/mw/images/gallery/gal-home-edpick-lg/empty-speech-bubble-7508-68642ecb0f0a19313dd31c16f67e67e1@1x.jpg"})):t.src="https://merriam-webster.com/assets/mw/images/gallery/gal-home-edpick-lg/empty-speech-bubble-7508-68642ecb0f0a19313dd31c16f67e67e1@1x.jpg"},U=function(){var e=Object(j.f)(),t=Object(a.useContext)(l).user;null===t&&e("/Login");var r=Object(a.useState)(!1),s=Object(i.a)(r,2),c=s[0],n=s[1],o=Object(a.useState)(!1),b=Object(i.a)(o,2),d=b[0],m=b[1],x=Object(a.useState)(!1),p=Object(i.a)(x,2),f=p[0],g=p[1],w=function(){var r=Object(h.a)(O.a.mark((function r(a){var s,c,o,i,j,b,l,u,d;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),n(!1),m(!1),g(!1),s=new FormData(a.currentTarget),c=Object.fromEntries(s),o=c.title,i=c.description,j=c.imageUrl,!(0===o.length||o.length>32)){r.next=9;break}return n(!0),r.abrupt("return");case 9:if(!(i.length>150)){r.next=12;break}return m(!0),r.abrupt("return");case 12:if(null!=j&&""!==j&&"https://merriam-webster.com/assets/mw/images/gallery/gal-home-edpick-lg/empty-speech-bubble-7508-68642ecb0f0a19313dd31c16f67e67e1@1x.jpg"!==document.querySelector("#MemoryPreviewImage").src){r.next=15;break}return g(!0),r.abrupt("return");case 15:return b=Object(v.b)(y,"Memories"),l=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date,d=u.getDate()+" "+l[u.getMonth()]+" "+u.getFullYear(),r.next=21,Object(v.a)(b,{Title:o,Description:i,Date:d,ImageURL:j,OwnerId:t.uid,Likes:[]}).then((function(){e("/Memories")})).catch((function(e){alert("Unsuccessful operation, error: "+e)}));case 21:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"Share",children:[Object(u.jsx)("h1",{children:" Share Memory "}),Object(u.jsxs)("form",{id:"Share-Form",onSubmit:w,children:[Object(u.jsxs)("div",{className:"container",children:[c?Object(u.jsx)("p",{className:"InvalidField",children:" Title must be 1-32 characters long "}):Object(u.jsx)(u.Fragment,{}),d?Object(u.jsx)("p",{className:"InvalidField",children:" Description must be maximum of 150 characters long "}):Object(u.jsx)(u.Fragment,{}),f?Object(u.jsx)("p",{className:"InvalidField",children:" Invalid image URL "}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("label",{htmlFor:"leg-title",children:" Title "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Share-Form-Title",type:"text",name:"title",placeholder:"Enter memory title..."}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"category",children:" Description "}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{id:"Share-Form-Description",type:"text",name:"description",placeholder:"Enter memory description..."}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"game-img",children:"Image URL "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Share-Form-ImageURL",type:"text",name:"imageUrl",placeholder:"Upload a photo...",onChange:R}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"btn submit",type:"submit",value:"Share"})]}),Object(u.jsx)("div",{id:"MemoryPreviewImage-parent",children:Object(u.jsx)("img",{id:"MemoryPreviewImage",src:"https://merriam-webster.com/assets/mw/images/gallery/gal-home-edpick-lg/empty-speech-bubble-7508-68642ecb0f0a19313dd31c16f67e67e1@1x.jpg",alt:""})})]})]})},A=function(){var e=Object(j.f)(),t=Object(a.useContext)(l).user;null===t&&e("/Login");var r=Object(j.g)().memoryId,s=Object(a.useState)({}),c=Object(i.a)(s,2),n=c[0],o=c[1],b=Object(a.useState)(!1),d=Object(i.a)(b,2),m=d[0],x=d[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),g=f[0],w=f[1];Object(a.useEffect)((function(){var a=function(){var a=Object(h.a)(O.a.mark((function a(){var s,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=Object(v.d)(y,"Memories",r),a.next=3,Object(v.e)(s);case 3:if(void 0!==(c=a.sent).data()){a.next=9;break}return e("/Error404"),a.abrupt("return");case 9:o(c.data());case 10:t.uid===n.OwnerId&&e("/Memories");case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[r]);var I=function(){var t=Object(h.a)(O.a.mark((function t(a){var s,c,n,o,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),x(!1),w(!1),s=new FormData(a.currentTarget),c=Object.fromEntries(s),n=c.title,o=c.description,!(0===n.length||n.length>32)){t.next=8;break}return x(!0),t.abrupt("return");case 8:if(!(o.length>150)){t.next=11;break}return w(!0),t.abrupt("return");case 11:return i=Object(v.d)(y,"Memories",r),t.next=14,Object(v.h)(i,{Title:n,Description:o});case 14:e("/Memories");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"Edit",children:[Object(u.jsx)("h1",{children:" Edit Memory "}),Object(u.jsxs)("form",{id:"Edit-Form",onSubmit:I,children:[Object(u.jsxs)("div",{className:"container",children:[m?Object(u.jsx)("p",{className:"InvalidField",children:" Title must be 1-32 characters long "}):Object(u.jsx)(u.Fragment,{}),g?Object(u.jsx)("p",{className:"InvalidField",children:" Description must be maximum of 150 characters long "}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("label",{htmlFor:"leg-title",children:" Title "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"Edit-Form-Title",type:"text",name:"title",placeholder:"Enter memory title...",defaultValue:n.Title}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"category",children:" Description "}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{id:"Edit-Form-Description",type:"text",name:"description",placeholder:"Enter memory description...",defaultValue:n.Description}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"btn submit",type:"submit",value:"Save"})]}),Object(u.jsx)("div",{id:"MemoryPreviewImage-parent",children:Object(u.jsx)("img",{id:"MemoryPreviewImage",src:n.ImageURL,alt:""})})]})]})},C=function(e){var t=e.memory,r=t.Title,a=t.Date,s=t.ImageURL;return Object(u.jsx)(o.b,{to:"/memory/".concat(t.id),children:Object(u.jsxs)("div",{className:"Profile-Memories-Items-List-Item",children:[Object(u.jsxs)("h3",{className:"Profile-Memories-Items-List-Item-Title",children:[" ",r," "]}),Object(u.jsxs)("h3",{className:"Profile-Memories-Items-List-Item-Date",children:[" ",a," "]}),Object(u.jsx)("img",{src:s,alt:""})]})})},B=function(){var e=Object(j.f)();null===Object(a.useContext)(l).user&&e("/Login");var t=Object(j.g)().profileId;console.log(t);var r=Object(a.useState)(),s=Object(i.a)(r,2),c=s[0],n=s[1];Object(a.useEffect)((function(){var r=function(){var r=Object(h.a)(O.a.mark((function r(){var a,s;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=Object(v.d)(y,"Users",t),r.next=3,Object(v.e)(a);case 3:if(void 0!==(s=r.sent).data()){r.next=9;break}return e("/Error404"),r.abrupt("return");case 9:n(s.data());case 10:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();void 0!==t&&r()}),[t]);var o=Object(a.useState)([]),b=Object(i.a)(o,2),d=b[0],m=b[1],x=Object(v.b)(y,"Memories");Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.f)(x);case 2:t=e.sent,m(t.docs.map((function(e){return Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var p=d.length;return Object(u.jsxs)("section",{className:"Profile",children:[void 0!==c?Object(u.jsxs)("article",{className:"Profile-Information",children:[Object(u.jsx)("h1",{children:"Profile"}),Object(u.jsx)("img",{src:c.PhotoURL,alt:""}),Object(u.jsxs)("h2",{children:[" ",c.DisplayName," "]})]}):Object(u.jsx)("p",{children:" Searching for user... "}),Object(u.jsxs)("article",{className:"Profile-Memories",children:[Object(u.jsx)("h3",{children:" Memories "}),p>0?Object(u.jsx)("article",{children:d.map((function(e){return Object(S.a)({},e.OwnerId===c.Uid?Object(u.jsx)(C,{memory:e},e.id):Object(u.jsx)(u.Fragment,{}))}))}):Object(u.jsx)("p",{children:" Searching for memories... "})]})]})};var H=function(){return Object(u.jsx)("footer",{className:"Footer",children:Object(u.jsxs)("p",{children:["Copyright \xa9 2021 MemoryBook. All Rights Reserved. ",Object(u.jsx)(o.c,{to:"Privacy-Policy",children:"Privacy Policy"})]})})},Y=function(){return Object(u.jsxs)("section",{className:"Policy",children:[Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"Thank you for using our services! This Privacy Policy describes:"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"\u2022 The ways we collect personal data about you and why we do so.",Object(u.jsx)("br",{}),"\u2022 How we use your personal data.",Object(u.jsx)("br",{}),"\u2022 The choices you have about your personal data.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"This Privacy Policy applies to DRYGON's games, websites and related services, which we here refer to as the Service. We may periodically update this Privacy Policy. If we make any changes, we will notify you by posting a notice in the news on the DRYGON website.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"CONTACT US"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"If you have questions about data protection, or if you have any requests for resolving issues with your personal data, we encourage you to primarily contact us by E-mail, so we can reply to you more quickly.",Object(u.jsx)("br",{}),"E-mail: team.drygon@gmail.com",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"THE DATA WE COLLECT"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Data you provide us."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"The Information provided won\u2019t be used in any way that would cause you or anyone related to you trouble.",Object(u.jsx)("br",{}),"\u2022 Contact information (such as name and email address)",Object(u.jsx)("br",{}),"\u2022 Player name and password",Object(u.jsx)("br",{}),"\u2022 Profile information (such as profile photo)",Object(u.jsx)("br",{}),"\u2022 Your messages to the Service (such as chat logs and",Object(u.jsx)("br",{}),"player support tickets)",Object(u.jsx)("br",{}),"\u2022 Other data you choose to give us (such as data to identify a lost account)",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Data we collect automatically."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"\u2022 Data about your account and game progress",Object(u.jsx)("br",{}),"\u2022 Your IP address and mobile device identifiers (such as your device ID, advertising ID, MAC address, IMEI)",Object(u.jsx)("br",{}),"\u2022 Data about your device, such as device name and operating system, browser type and language",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Data we collect with cookies and similar technologies (see more below)"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"\u2022 Data about your use of the Service, such as gameplay data and your interactions with",Object(u.jsx)("br",{}),"other players inside the Service \u2022 In most cases, we also create a DRYGON-specific ID for you when you use the",Object(u.jsx)("br",{}),"Service. (For every person is unique and it will make your account safe to other users)",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Data we collect from our partners."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"\u2022 Data we receive if you link a third-party tool with the Service (such as Facebook,",Object(u.jsx)("br",{}),"WeChat or Google) \u2022 Demographic data (such as to determine the coarse location of your IP address)",Object(u.jsx)("br",{}),"\u2022 Data to fight fraud (such as refund abuse in games or click fraud in advertising)",Object(u.jsx)("br",{}),"\u2022 Data from platforms that the games run on (such as to verify payment)",Object(u.jsx)("br",{}),"\u2022 Data for advertising and analytics purposes, so we can provide you a better Service",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"WHY DO WE COLLECT YOUR DATA"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"\u2022 To perform the contract, we process data necessary to",Object(u.jsx)("br",{}),"\u2022 Create accounts and allow you to play our games and use our Service",Object(u.jsx)("br",{}),"\u2022 Operate the Service",Object(u.jsx)("br",{}),"\u2022 Verify and confirm payments",Object(u.jsx)("br",{}),"\u2022 Provide and deliver products and services you request",Object(u.jsx)("br",{}),"\u2022 Send you Service-related communications",Object(u.jsx)("br",{}),"\u2022 To make the Service more suitable for our players.",Object(u.jsx)("br",{}),"\u2022 Develop and improve the Service and player experience",Object(u.jsx)("br",{}),"\u2022 Manage our relationship with you",Object(u.jsx)("br",{}),"\u2022 Provide social features as part of the Service",Object(u.jsx)("br",{}),"\u2022 Respond to your comments and questions and provide player support",Object(u.jsx)("br",{}),"\u2022 Send you related information, such as updates, security alerts, and support messages",Object(u.jsx)("br",{}),"\u2022 Enable you to communicate with other players",Object(u.jsx)("br",{}),"\u2022 To show personalized advertisements.",Object(u.jsx)("br",{}),"\u2022 Track the content you access in connection with the Service and your online behavior",Object(u.jsx)("br",{}),"\u2022 Deliver, target and improve our advertising and the Service.",Object(u.jsx)("br",{}),"\u2022 For information on how to opt-out from personalized advertisements, see section 'Your rights and options' below.",Object(u.jsx)("br",{}),"\u2022 To keep the Service safe and fair.",Object(u.jsx)("br",{}),"\u2022 Ensuring a level playing field in the Service is a top priority for us. For more information on our acceptable use policy, see the Supercell Terms of Service.",Object(u.jsx)("br",{}),"\u2022 In order to keep the Service and its social features safe and fair, to fight fraud and ensure acceptable use otherwise, we have a legitimate interest to process necessary data to",Object(u.jsx)("br",{}),"\u2022 Analyze and monitor use of the Service and its social features",Object(u.jsx)("br",{}),"\u2022 Moderate chats either automatically or manually",Object(u.jsx)("br",{}),"\u2022 Take action against fraudulent or misbehaving players",Object(u.jsx)("br",{}),"\u2022 To analyze, profile, and segment.",Object(u.jsx)("br",{}),"\u2022 In all of the above cases and purposes, we may analyze, profile and segment all collected data.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"With your consent, we may process your data for additional purposes, such as using your GPS location to show your local events.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"WHO CAN SEE YOUR DATA Apart from DRYGON"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Other players and users."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Social features are a core component of our games. Other players and users may, for example, see your profile data, in-game activities and read the messages you have posted. Note that nothing Personal outside of the player username and information regarding to the character isn't visible to the public eye.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"PARTNERS WORKING FOR DRYGON."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"DRYGON has partners to perform services for us.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"These partners process your data only at and according to",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"In order to combat fraud and illegal activity, we may exchange data with other companies and organizations and provide it to public authorities in response to lawful requests.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"We may also disclose your data based on your consent, to comply with the law or to protect the rights, property or safety of us, our players or others.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Advertising and Social Media partners.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"The Service includes features from our partners, such as social media interaction tools and in-game advertising.  These partners may access your data and operate under their own privacy policies.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"INTERNATIONAL DATA TRANSFERS"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Our Service is global by nature and your data can therefore be transferred to anywhere in the world. Because different countries may have different data protection laws than your own country, we take steps to ensure adequate safeguards are in place to protect your data as explained in this Policy.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Adequate safeguards that our partners may use include standard contractual clauses approved by EU Commission and the Privacy Shield certification in case of transfers to the USA.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"YOUR RIGHTS AND OPTIONS"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Opt-out of marketing emails and other direct marketing."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"You may opt-out of receiving promotional communications, such as marketing emails from us by following the instructions in such communications.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Opt-out of targeted advertising."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),'You can opt-out of interest-based advertising on mobile applications by checking the privacy settings of your Android or iOS device and selecting "limit ad tracking" (Apple iOS) or "opt-out of interest-based ads" (Android).',Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"For personalized in-game offers opt-out, you can use the options provided in the game settings.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Access the personal data we hold about you.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"If you request, we will provide you a copy of your personal data in an electronic format.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Your other rights."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"You also have the right to correct your data, have your data deleted, object how we use or share your data, and restrict how we use or share your data. You can always withdraw your consent, for example by turning off GPS location sharing in your mobile device settings.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"We will respond to all requests within a reasonable timeframe."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"If you have an unresolved privacy or data use concern that we have not addressed satisfactorily, please contact our U.S.-based third-party dispute resolution provider (free of charge).",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"You may also contact your local data protection authority within the European Economic Area for unresolved complaints.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"COOKIES AND SIMILAR TECHNOLOGIES"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Like most online services, we and our partners use cookies and similar technologies to provide and personalize the Service, analyze use, target advertisements and prevent fraud. You can disable cookies in your browser settings, but some parts of the Service may then not function properly.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"HOW DO WE PROTECT YOUR DATA"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Security Safeguards."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"In order to help ensure a secure and safe player experience, we are continuously developing and implementing administrative, technical and physical security measures to protect your data from unauthorized access or against loss, misuse or alteration.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Data retention."}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"We retain your data for as long as your account is active or as needed to provide you the Service. We will for example periodically de-identify unused game accounts and we regularly review and de-identify unnecessary data.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Note that if you ask us to remove your personal data, we will retain your data as necessary for our legitimate business interests, such as to comply with our legal obligations, resolve disputes, and enforce our agreements.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"AGE LIMITS"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"We do not knowingly collect or solicit personal data about or direct or target interest-based advertising to anyone under the age of 13 or knowingly allow such people to use our Services.  If you are under 13, please do not send any data about yourself to us, including your name, address, telephone number, or email address.  No one under the age of 13 may provide any personal data. Unless you have the permission from your guardian. If we learn that we have collected personal data about a child under the age of 13, which has no permission from its guardian, we will delete that data as quickly as possible.  If you believe that we might have any data from or about a child under the age of 13, please contact us. We will look in to it as soon as we get the needed information.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h5",{children:"Last edited: April 16, 2021"})]})},W=function(){return Object(u.jsxs)("section",{className:"Error404",children:[Object(u.jsx)("h1",{className:"Error404-Title",children:" Page not found! "}),Object(u.jsxs)("p",{children:["Return To ",Object(u.jsx)(o.b,{className:"Error404-Link",to:"/home",children:" Home"})," Page"]})]})};r(45),r(46),r(47),r(48),r(49),r(50),r(51),r(52),r(53),r(54),r(55),r(56),r(57);var q=function(){var e=Object(b.b)(),t=Object(a.useState)({}),r=Object(i.a)(t,2),s=r[0],c=r[1];return Object(a.useEffect)((function(){e.onAuthStateChanged(c)}),[e]),Object(u.jsx)(l.Provider,{value:{user:s},children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(d,{}),Object(u.jsx)("main",{children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/Login",element:Object(u.jsx)(x,{})}),Object(u.jsx)(j.a,{path:"/Register",element:Object(u.jsx)(I,{})}),Object(u.jsx)(j.a,{path:"/",element:Object(u.jsx)(F,{})}),Object(u.jsx)(j.a,{path:"/Home",element:Object(u.jsx)(F,{})}),Object(u.jsx)(j.a,{path:"/Memories",element:Object(u.jsx)(L,{})}),Object(u.jsx)(j.a,{path:"/Memory/:memoryId",element:Object(u.jsx)(T,{})}),Object(u.jsx)(j.a,{path:"/Memory/Edit/:memoryId",element:Object(u.jsx)(A,{})}),Object(u.jsx)(j.a,{path:"/Profile/:profileId",element:Object(u.jsx)(B,{})}),Object(u.jsx)(j.a,{path:"/Share",element:Object(u.jsx)(U,{})}),Object(u.jsx)(j.a,{path:"/Privacy-Policy",element:Object(u.jsx)(Y,{})}),Object(u.jsx)(j.a,{path:"*",element:Object(u.jsx)(W,{})}),Object(u.jsx)(j.a,{path:"/memory/*",element:Object(u.jsx)(W,{})})]})}),Object(u.jsx)(H,{})]})})},G=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,59)).then((function(t){var r=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,n=t.getTTFB;r(e),a(e),s(e),c(e),n(e)}))};n.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(q,{})})}),document.getElementById("root")),G()}},[[58,1,2]]]);
//# sourceMappingURL=main.0e5b5e8d.chunk.js.map